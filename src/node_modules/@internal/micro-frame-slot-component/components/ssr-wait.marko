<await(input.iter.next())
  client-reorder=(
    input.clientReorder === "after-first-chunk"
      ? !!input.loaded
      : !!input.clientReorder
  )
  timeout=input.timeout
>
  <@then|{ value, done }|>
    <if(!done)>
      $!{value}
      <ssr-wait ...input loaded/>
    </if>
    <else>
      $ input.finishLoading();
    </else>
  </@then>
  <@catch|e|>
    $ input.finishLoading();
    $ out.write(`<script>(function(e){if(e)e.textContent=""})(document.getElementById(${JSON.stringify(input.id)}))</script>`);
    <${input.catch}(e)/>
  </@catch>
</await>
